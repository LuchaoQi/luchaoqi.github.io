<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Ekohealth - Luchao Qi</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Luchao Qi"><meta name="msapplication-TileImage" content="/img/favicon_io/pngtosvg.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Luchao Qi"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content=""><meta property="og:type" content="blog"><meta property="og:title" content="Ekohealth"><meta property="og:url" content="https://luchaoqi.github.io/blog/Ekohealth/"><meta property="og:site_name" content="Luchao Qi"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://luchaoqi.github.io/blog/Ekohealth/img/favicon_io/avatar.jpg"><meta property="article:published_time" content="2020-09-14T02:31:54.000Z"><meta property="article:modified_time" content="2021-06-09T18:44:16.329Z"><meta property="article:author" content="Luchao Qi"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="img/favicon_io/avatar.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://luchaoqi.github.io/blog/Ekohealth/"},"headline":"Ekohealth","image":["https://i.loli.net/2020/12/05/U47Pqwc8AWFJTGe.gif","https://i.loli.net/2020/12/05/maZgUXYCptQ6oRD.gif","https://i.loli.net/2020/12/05/68Czwu2EHgmbVBj.gif"],"datePublished":"2020-09-14T02:31:54.000Z","dateModified":"2021-06-09T18:44:16.329Z","author":{"@type":"Person","name":"Luchao Qi"},"publisher":{"@type":"Organization","name":"Luchao Qi","logo":{"@type":"ImageObject","url":"https://luchaoqi.github.io/img/favicon_io/pngtosvg.svg"}},"description":""}</script><link rel="canonical" href="https://luchaoqi.github.io/blog/Ekohealth/"><link rel="alternate" href="https://luchaoqi.com/atom" title="Luchao Qi" type="application/atom+xml"><link rel="icon" href="/img/favicon_io/pngtosvg.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-168448832-1" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-168448832-1');</script><!--!--><meta name="generator" content="Hexo 5.0.2"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon_io/pngtosvg.svg" alt="Luchao Qi" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/projects">Projects</a><a class="navbar-item" target="_blank" rel="noopener" href="https://luchaoqi.com/doc/Resume/Resume.pdf">Resume</a><a class="navbar-item" href="/archives">Archives</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Blog" href="http://luchaoqi.com/blog"><i class="fas fa-blog"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-09-14T02:31:54.000Z" title="9/13/2020, 10:31:54 PM">2020-09-13</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-06-09T18:44:16.329Z" title="6/9/2021, 2:44:16 PM">2021-06-09</time></span><span class="level-item">7 minutes read (About 1057 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Ekohealth</h1><div class="content"><h2 id="Review-of-Dialysis-Access-Project"><a href="#Review-of-Dialysis-Access-Project" class="headerlink" title="Review of Dialysis Access Project"></a>Review of Dialysis Access Project</h2><p>Luchao Qi</p>
<p>September 2020 - December 2020</p>
<blockquote>
<p> Some of links are for internal Eko team use only, you may not able to check those code / documents. The final report is stored on google doc and <a target="_blank" rel="noopener" href="https://ekodevices.atlassian.net/wiki/spaces/AL/pages/814153736/Dialysis+Access+Sounds">project updates</a> on Jira.</p>
<p> Lessons learned:</p>
<p> Priority: solutions &gt; problems<br> It’s better to show results or proposals rather than technical problems / challenges incurred in the reports or presentations. Since managers are more focused on high-level output-driven problems which is defined by the nature of industry.</p>
<p> Data: sample size / quality / feature engineering<br> Data quality and feature engineering is the fundamental pillar in a project. Real-world data is not always ideal and will issue lots of problem during EDA e.g. unbalanced dataset / small sample size / unreliable ground truth. People usually spend most of bandwidth playing around algorithm part (hyperparameter tuning / optimization / …) which of course is important. But always keep in mind that the fundamental stuff decides the upper limits of algorithm performance.</p>
</blockquote>
<h2 id="Project-Description-Dialysis-SBIR-Phase-I-Research-Strategy"><a href="#Project-Description-Dialysis-SBIR-Phase-I-Research-Strategy" class="headerlink" title="Project Description: Dialysis SBIR Phase I - Research Strategy"></a>Project Description: Dialysis SBIR Phase I - Research Strategy</h2><p>Background: Dialysis needs AV fistula / AV graft to get better treatment and this treatment could cause stenosis. To help give diagnosis, we are trying to find a way to detect stenosis using ML/DL algorithms.</p>
<p><img src="https://i.loli.net/2020/12/05/U47Pqwc8AWFJTGe.gif" alt=""></p>
<blockquote>
<p>Stethoscope Recordings Audio recordings of the dialysis access flow will be performed for each subject in a standardized manner. Each subject will undergo 15-second recordings first over the site of the proximal anastomosis (or the only anastomosis, in the case of an AVF), and again 4 cm and 8 cm distally along the length of the fistula or graft. Device recording location will be documented for each recording using a form embedded in the Eko App. Stethoscope sound recordings will be collected by an expert auscultator (e.g. Dr. Morrissey, Dr. Kalloo, or Dr. Lazar) with substantial experience in listening to vascular blood flow sounds, and will retake the recording if they believe the sound quality is insufficient. As the device will allow visualization of the audio waveform during recording, the recorder will receive real-time feedback on the placement of the device over the blood vessel to maximize the quality of the recording at each position. To ensure that consistent pressure is applied, the observer will balance the stethoscope chest piece on the arm such that the only pressure applied is due to the force of gravity on the chest piece. Recordings made with the Eko CORE will use the Eko CORE’s active noise canceling functionality to remove ambient noise, further improving data quality. We will plan for periodic auditing of recordings by Eko’s data science team and by Dr. Morrissey to ensure adequate data quality. We anticipate that this flexibility and real-time feedback will improve the generalizability of the use of the device to a real-world (i.e. non-study) clinical situation. </p>
</blockquote>
<h2 id="Algorithms"><a href="#Algorithms" class="headerlink" title="Algorithms"></a>Algorithms</h2><h3 id="Literature-review"><a href="#Literature-review" class="headerlink" title="Literature review"></a>Literature review</h3><p><a target="_blank" rel="noopener" href="https://docs.google.com/presentation/d/1FXr7skZMgN76QkAGnEfhDtdeAvS-WFRRniO0-C9rybo/edit?usp=sharing">https://docs.google.com/presentation/d/1FXr7skZMgN76QkAGnEfhDtdeAvS-WFRRniO0-C9rybo/edit?usp=sharing</a></p>
<h3 id="Recording-based-algorithms"><a href="#Recording-based-algorithms" class="headerlink" title="Recording-based algorithms"></a>Recording-based algorithms</h3><ul>
<li><p>Features based on time-domain: statistics of envelope, zero-crossings</p>
</li>
<li><p>Features based on frequency domain: MFCC, band power, statistics of frequency</p>
</li>
<li><p>SVM Model performance: AUC ~ 0.7, PR AUC ~ 0.2</p>
</li>
</ul>
<h3 id="Visit-based-algorithms"><a href="#Visit-based-algorithms" class="headerlink" title="Visit-based algorithms"></a>Visit-based algorithms</h3><ul>
<li><p>We tried to reproduce similar methods (mainly ratio of bandpower features + SVM) in the paper: <a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/document/6944653">https://ieeexplore.ieee.org/document/6944653</a><br> While the results are not promising, there are still some necessities digging into the paper and figure out why. Some possible reasons could the data quality/feature engineering / …</p>
</li>
<li><p>Among all the features constructed, the entropy of power density (K-L divergence) across 3 locations performs the best. <img src="https://i.loli.net/2020/12/05/maZgUXYCptQ6oRD.gif" alt=""></p>
</li>
<li><p>SVM Model performance: AUC ~0.8, PR AUC ~ 0.6</p>
</li>
</ul>
<h3 id="Frequency-filtering"><a href="#Frequency-filtering" class="headerlink" title="Frequency filtering"></a>Frequency filtering</h3><ul>
<li>The unfiltered data and filtered data (30Hz - 800Hz) are stored on AWS and the aforementioned visit-based algorithms were applied on both data but there’s no big difference between the performance.</li>
</ul>
<h3 id="Covariates"><a href="#Covariates" class="headerlink" title="Covariates"></a>Covariates</h3><ul>
<li>We also tried using information from ultrasound reports including flow volume, peak systolic velocity, and blood vessel diameter to predict stenosis severity but the results are not promising. Those ML results and EDA results <a target="_blank" rel="noopener" href="https://github.com/EkoDevices/algorithms/blob/develop/projects/dialysis_access/notebooks/columbia_data_visualization.ipynb">https://github.com/EkoDevices/algorithms/blob/develop/projects/dialysis_access/notebooks/columbia_data_visualization.ipynb</a><br> make the ultrasound reports less reliable.</li>
</ul>
<h3 id="Further-Analysis"><a href="#Further-Analysis" class="headerlink" title="Further Analysis"></a>Further Analysis</h3><ul>
<li><p>Dynamic Time Warping can be worth trying if there’s more data available since that’s the main way clinical experts use to give diagnosis.</p>
</li>
<li><p>Useful features from clinical side: change of pulsatility / sharpness / shape / amplitude</p>
</li>
</ul>
<h2 id="Human-Annotation-Project"><a href="#Human-Annotation-Project" class="headerlink" title="Human Annotation Project"></a>Human Annotation Project</h2><ul>
<li><p>Blinded experiments are set for experts listening to audios only and give diagnosis after the listening session.<br>More details could be found here: <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1Oa5hxrGdLQSRIKulNxNxpcni54ziSDxSbI93sJRMk6A/edit?usp=sharing">doc</a></p>
<p>Code to reproduce the results: [code](<a target="_blank" rel="noopener" href="https://github.com/EkoDevices/algorithms/blob/develop/projects/dialysis_access/notebooks/Dialysis">https://github.com/EkoDevices/algorithms/blob/develop/projects/dialysis_access/notebooks/Dialysis</a> Access Annotation Project.ipynb)</p>
<p>The goal is to re-annotate the data and to get human level performance when they were only able to access the audio data.</p>
</li>
<li><p>Results from Dr. Nicholas J. Morrissey:<br> <img src="https://i.loli.net/2020/12/05/68Czwu2EHgmbVBj.gif" alt="img"></p>
</li>
</ul>
<h2 id="Problems-and-Possible-Solutions"><a href="#Problems-and-Possible-Solutions" class="headerlink" title="Problems and Possible Solutions"></a>Problems and Possible Solutions</h2><h3 id="Ground-truth"><a href="#Ground-truth" class="headerlink" title="Ground truth"></a>Ground truth</h3><ul>
<li><p>Data labeling is the biggest problem so far because using ultrasound reports might not be reliable. The ultrasound reports classify stenosis severity into different categories e.g. Severe, Moderate, NHSS, … which doesn’t make a lot of sense when doing a sanity check. In other words, both NHSS and Severe data contain stenosis when listening to audio and even experts couldn’t differentiate between them well.</p>
</li>
<li><p>Human annotation from the Columbia team shows similar results meaning that the ultrasound reports might not be enough labeling the data.</p>
</li>
<li><p>Angiography should be the best solution we can find so far regarding the ground truth, especially considering the definition of stenosis (percentage change in diameter of the blood vessel).</p>
</li>
</ul>
<h3 id="Number-of-recordings"><a href="#Number-of-recordings" class="headerlink" title="Number of recordings"></a>Number of recordings</h3><ul>
<li><p>The ideal number of recordings would be 3 while there are occasions that the number of recordings is larger than 3 because doctors retake the recording if they believe the sound quality is insufficient. So it would be better to permit them to choose the most representative 3 recordings.</p>
</li>
<li><p>There are currently ~300 recordings in total but only ~20 datasets (60 recordings) left after data cleaning for tranining. So the sample size is pretty small and we still need more enrollments.</p>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>Ekohealth</p><p><a href="https://luchaoqi.github.io/blog/Ekohealth/">https://luchaoqi.github.io/blog/Ekohealth/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Luchao Qi</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-09-13</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-06-09</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="" rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/blog/2021-Year-End-Recap/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">2021 Year End Recap</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/blog/Farewell-to-the-Johns-Hopkins-University/"><span class="level-item">Farewell to the Johns Hopkins University</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://luchaoqi.github.io/blog/Ekohealth/';
            this.page.identifier = 'blog/Ekohealth/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'luchaoqi' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Review-of-Dialysis-Access-Project"><span class="level-left"><span class="level-item">1</span><span class="level-item">Review of Dialysis Access Project</span></span></a></li><li><a class="level is-mobile" href="#Project-Description-Dialysis-SBIR-Phase-I-Research-Strategy"><span class="level-left"><span class="level-item">2</span><span class="level-item">Project Description: Dialysis SBIR Phase I - Research Strategy</span></span></a></li><li><a class="level is-mobile" href="#Algorithms"><span class="level-left"><span class="level-item">3</span><span class="level-item">Algorithms</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Literature-review"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Literature review</span></span></a></li><li><a class="level is-mobile" href="#Recording-based-algorithms"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Recording-based algorithms</span></span></a></li><li><a class="level is-mobile" href="#Visit-based-algorithms"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">Visit-based algorithms</span></span></a></li><li><a class="level is-mobile" href="#Frequency-filtering"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">Frequency filtering</span></span></a></li><li><a class="level is-mobile" href="#Covariates"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">Covariates</span></span></a></li><li><a class="level is-mobile" href="#Further-Analysis"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">Further Analysis</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Human-Annotation-Project"><span class="level-left"><span class="level-item">4</span><span class="level-item">Human Annotation Project</span></span></a></li><li><a class="level is-mobile" href="#Problems-and-Possible-Solutions"><span class="level-left"><span class="level-item">5</span><span class="level-item">Problems and Possible Solutions</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Ground-truth"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">Ground truth</span></span></a></li><li><a class="level is-mobile" href="#Number-of-recordings"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">Number of recordings</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-06-04T21:44:01.000Z">2021-06-04</time></p><p class="title"><a href="/blog/K-Means-from-Scratch-in-Python/">K-Means from Scratch in Python</a></p><p class="categories"><a href="/categories/Machine-Learning/">Machine Learning</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-04-13T20:33:02.000Z">2021-04-13</time></p><p class="title"><a href="/blog/2021-Year-End-Recap/">2021 Year End Recap</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-09-14T02:31:54.000Z">2020-09-13</time></p><p class="title"><a href="/blog/Ekohealth/">Ekohealth</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-05-30T04:00:00.000Z">2020-05-30</time></p><p class="title"><a href="/blog/Farewell-to-the-Johns-Hopkins-University/">Farewell to the Johns Hopkins University</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-04-23T02:00:10.000Z">2020-04-22</time></p><p class="title"><a href="/blog/Pitfalls-of-Data-Normalization/">Pitfalls of Data Normalization</a></p></div></article></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon_io/pngtosvg.svg" alt="Luchao Qi" height="28"></a><p class="is-size-7"><span>&copy; 2021 Luchao Qi</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>